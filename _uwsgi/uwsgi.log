...gracefully killing workers...
Gracefully killing worker 1 (pid: 462838)...
!!! uWSGI process 462838 got Segmentation Fault !!!
*** backtrace of 462838 ***
/data/anaconda3/envs/program_synthesis/bin/uwsgi(uwsgi_backtrace+0x31) [0x6578e1]
/data/anaconda3/envs/program_synthesis/bin/uwsgi(uwsgi_segfault+0x32) [0x657d52]
/lib/x86_64-linux-gnu/libc.so.6(+0x43090) [0x7f3643d4d090]
/home/cad/.local/lib/python3.9/site-packages/tensorrt/tensorrt.so(+0x2b6c1) [0x7f359c3c96c1]
/home/cad/.local/lib/python3.9/site-packages/tensorrt/tensorrt.so(+0x2f696) [0x7f359c3cd696]
/home/cad/.local/lib/python3.9/site-packages/tensorrt/tensorrt.so(+0x366bd) [0x7f359c3d46bd]
/data/anaconda3/envs/program_synthesis/bin/uwsgi() [0x512351]
/data/anaconda3/envs/program_synthesis/bin/uwsgi(_PyGC_CollectNoFail+0x3e) [0x6d950e]
/data/anaconda3/envs/program_synthesis/bin/uwsgi(Py_FinalizeEx+0x184) [0x6d7784]
/data/anaconda3/envs/program_synthesis/bin/uwsgi(uwsgi_plugins_atexit+0x71) [0x654401]
/lib/x86_64-linux-gnu/libc.so.6(+0x468a7) [0x7f3643d508a7]
/lib/x86_64-linux-gnu/libc.so.6(on_exit+0) [0x7f3643d50a60]
/data/anaconda3/envs/program_synthesis/bin/uwsgi() [0x608577]
/data/anaconda3/envs/program_synthesis/bin/uwsgi(gracefully_kill+0xcb) [0x65710b]
/lib/x86_64-linux-gnu/libpthread.so.0(+0x14420) [0x7f3646360420]
/lib/x86_64-linux-gnu/libc.so.6(epoll_wait+0x5e) [0x7f3643e2946e]
/data/anaconda3/envs/program_synthesis/bin/uwsgi(event_queue_wait+0x36) [0x64a3c6]
/data/anaconda3/envs/program_synthesis/bin/uwsgi(wsgi_req_accept+0x130) [0x605bb0]
/data/anaconda3/envs/program_synthesis/bin/uwsgi(simple_loop_run+0xc1) [0x6532e1]
/data/anaconda3/envs/program_synthesis/bin/uwsgi(simple_loop+0x11) [0x6530c1]
/data/anaconda3/envs/program_synthesis/bin/uwsgi(uwsgi_ignition+0x315) [0x658135]
/data/anaconda3/envs/program_synthesis/bin/uwsgi(uwsgi_worker_run+0x1dd) [0x65cc0d]
/data/anaconda3/envs/program_synthesis/bin/uwsgi(uwsgi_run+0x4d1) [0x65d2f1]
/lib/x86_64-linux-gnu/libc.so.6(__libc_start_main+0xf3) [0x7f3643d2e083]
/data/anaconda3/envs/program_synthesis/bin/uwsgi() [0x604f6e]
*** end of backtrace ***
worker 1 buried after 2 seconds
binary reloading uWSGI...
chdir() to /data/cty/sandbox_service/_uwsgi
closing all non-uwsgi socket fds > 2 (max_fd = 1048576)...
found fd 3 mapped to socket 0 (0.0.0.0:8760)
running /data/anaconda3/envs/program_synthesis/bin/uwsgi
[uWSGI] getting INI configuration from uconfig.ini
*** Starting uWSGI 2.0.21 (64bit) on [Mon Jul 24 16:35:32 2023] ***
compiled with version: 11.2.0 on 10 March 2023 16:42:24
os: Linux-5.15.0-76-generic #83~20.04.1-Ubuntu SMP Wed Jun 21 20:23:31 UTC 2023
nodename: 01
machine: x86_64
clock source: unix
pcre jit disabled
detected number of CPU cores: 24
current working directory: /data/cty/sandbox_service/_uwsgi
detected binary path: /data/anaconda3/envs/program_synthesis/bin/uwsgi
your processes number limit is 1029858
your memory page size is 4096 bytes
detected max file descriptor number: 1048576
lock engine: pthread robust mutexes
thunder lock: disabled (you can enable it with --thunder-lock)
uwsgi socket 0 inherited INET address 0.0.0.0:8760 fd 3
Python version: 3.9.16 (main, Mar  8 2023, 14:00:05)  [GCC 11.2.0]
Set PythonHome to /data/anaconda3/envs/program_synthesis
*** Python threads support is disabled. You can enable it with --enable-threads ***
Python main interpreter initialized at 0x1105fc0
your server socket listen backlog is limited to 100 connections
your mercy for graceful operations on workers is 60 seconds
mapped 219568 bytes (214 KB) for 1 cores
*** Operational MODE: single process ***
added /data/cty/sandbox_service/ to pythonpath.
WSGI app 0 (mountpoint='') ready in 1 seconds on interpreter 0x1105fc0 pid: 136374 (default app)
mountpoint  already configured. skip.
*** uWSGI is running in multiple interpreter mode ***
gracefully (RE)spawned uWSGI master process (pid: 136374)
spawned uWSGI worker 1 (pid: 464656, cores: 1)
*** Stats server enabled on /data/cty/sandbox_service/_uwsgi/uwsgi.status fd: 9 ***
Loading /data/cty/sandbox_service/web_vision/models/weights/yolov8n.engine for TensorRT inference...
[07/24/2023-16:35:38] [TRT] [I] [MemUsageChange] Init CUDA: CPU +330, GPU +0, now: CPU 414, GPU 455 (MiB)
[07/24/2023-16:35:38] [TRT] [I] Loaded engine size: 15 MiB
[07/24/2023-16:35:39] [TRT] [I] [MemUsageChange] Init cuDNN: CPU +876, GPU +392, now: CPU 1336, GPU 863 (MiB)
[07/24/2023-16:35:39] [TRT] [W] TensorRT was linked against cuDNN 8.4.1 but loaded cuDNN 8.3.2
[07/24/2023-16:35:39] [TRT] [I] [MemUsageChange] TensorRT-managed allocation in engine deserialization: CPU +0, GPU +0, now: CPU 0, GPU 0 (MiB)
[07/24/2023-16:35:39] [TRT] [I] [MemUsageChange] Init cuDNN: CPU +0, GPU +34, now: CPU 1320, GPU 863 (MiB)
[07/24/2023-16:35:39] [TRT] [W] TensorRT was linked against cuDNN 8.4.1 but loaded cuDNN 8.3.2
[07/24/2023-16:35:39] [TRT] [I] [MemUsageChange] TensorRT-managed allocation in IExecutionContext creation: CPU +0, GPU +0, now: CPU 0, GPU 0 (MiB)

0: 640x640 1 traffic light, 1.9ms
Speed: 10.6ms preprocess, 1.9ms inference, 3.0ms postprocess per image at shape (1, 3, 640, 640)
[pid: 464656|app: 0|req: 1/1] 127.0.0.1 () {46 vars in 734 bytes} [Mon Jul 24 16:35:37 2023] POST /vision/detect_traffic_light_color => generated 67 bytes in 5489 msecs (HTTP/1.1 200) 2 headers in 71 bytes (1 switches on core 0)

0: 640x640 1 refrigerator, 1.8ms
Speed: 3.5ms preprocess, 1.8ms inference, 1.1ms postprocess per image at shape (1, 3, 640, 640)
[pid: 464656|app: 0|req: 2/2] 127.0.0.1 () {46 vars in 734 bytes} [Mon Jul 24 16:35:54 2023] POST /vision/detect_traffic_light_color => generated 62 bytes in 24 msecs (HTTP/1.1 200) 2 headers in 71 bytes (1 switches on core 0)

0: 640x640 2 persons, 1 traffic light, 2 bottles, 2 chairs, 1 dining table, 2.4ms
Speed: 5.9ms preprocess, 2.4ms inference, 1.2ms postprocess per image at shape (1, 3, 640, 640)
[pid: 464656|app: 0|req: 3/3] 127.0.0.1 () {46 vars in 736 bytes} [Mon Jul 24 16:38:00 2023] POST /vision/detect_traffic_light_color => generated 66 bytes in 69 msecs (HTTP/1.1 200) 2 headers in 71 bytes (2 switches on core 0)

0: 640x640 1 person, 1 traffic light, 1 bottle, 1 chair, 1 dining table, 1 tv, 1.7ms
Speed: 2.8ms preprocess, 1.7ms inference, 1.1ms postprocess per image at shape (1, 3, 640, 640)
[pid: 464656|app: 0|req: 4/4] 127.0.0.1 () {46 vars in 736 bytes} [Mon Jul 24 16:38:54 2023] POST /vision/detect_traffic_light_color => generated 66 bytes in 63 msecs (HTTP/1.1 200) 2 headers in 71 bytes (2 switches on core 0)

0: 640x640 2 persons, 1 traffic light, 1 bottle, 1 chair, 1 dining table, 3.0ms
Speed: 7.5ms preprocess, 3.0ms inference, 2.1ms postprocess per image at shape (1, 3, 640, 640)
[pid: 464656|app: 0|req: 5/5] 127.0.0.1 () {46 vars in 736 bytes} [Mon Jul 24 16:40:29 2023] POST /vision/detect_traffic_light_color => generated 66 bytes in 74 msecs (HTTP/1.1 200) 2 headers in 71 bytes (2 switches on core 0)

0: 640x640 1 person, 1 traffic light, 1 bottle, 1 chair, 1.6ms
Speed: 3.4ms preprocess, 1.6ms inference, 1.0ms postprocess per image at shape (1, 3, 640, 640)
[pid: 464656|app: 0|req: 6/6] 127.0.0.1 () {46 vars in 736 bytes} [Mon Jul 24 16:41:23 2023] POST /vision/detect_traffic_light_color => generated 66 bytes in 65 msecs (HTTP/1.1 200) 2 headers in 71 bytes (2 switches on core 0)

0: 640x640 1 person, 1 traffic light, 1 bottle, 1 dining table, 1 tv, 4.7ms
Speed: 2.7ms preprocess, 4.7ms inference, 2.9ms postprocess per image at shape (1, 3, 640, 640)
[pid: 464656|app: 0|req: 7/7] 127.0.0.1 () {46 vars in 736 bytes} [Mon Jul 24 16:42:20 2023] POST /vision/detect_traffic_light_color => generated 66 bytes in 26 msecs (HTTP/1.1 200) 2 headers in 71 bytes (1 switches on core 0)

0: 640x640 1 person, 1 traffic light, 2 bottles, 1 dining table, 1.6ms
Speed: 3.8ms preprocess, 1.6ms inference, 1.0ms postprocess per image at shape (1, 3, 640, 640)
[pid: 464656|app: 0|req: 8/8] 127.0.0.1 () {46 vars in 736 bytes} [Mon Jul 24 16:42:40 2023] POST /vision/detect_traffic_light_color => generated 68 bytes in 61 msecs (HTTP/1.1 200) 2 headers in 71 bytes (2 switches on core 0)

0: 640x640 3 persons, 1 bicycle, 1 motorcycle, 1 traffic light, 2 bottles, 1.8ms
Speed: 3.1ms preprocess, 1.8ms inference, 1.0ms postprocess per image at shape (1, 3, 640, 640)
[pid: 464656|app: 0|req: 9/9] 127.0.0.1 () {46 vars in 736 bytes} [Mon Jul 24 16:43:07 2023] POST /vision/detect_traffic_light_color => generated 69 bytes in 63 msecs (HTTP/1.1 200) 2 headers in 71 bytes (2 switches on core 0)

0: 640x640 1 person, 1 motorcycle, 1 traffic light, 1 bottle, 1 tv, 1.7ms
Speed: 6.1ms preprocess, 1.7ms inference, 1.2ms postprocess per image at shape (1, 3, 640, 640)
[pid: 464656|app: 0|req: 10/10] 127.0.0.1 () {46 vars in 736 bytes} [Mon Jul 24 16:44:36 2023] POST /vision/detect_traffic_light_color => generated 69 bytes in 64 msecs (HTTP/1.1 200) 2 headers in 71 bytes (2 switches on core 0)

0: 640x640 1 person, 1 traffic light, 1 tv, 1.7ms
Speed: 3.0ms preprocess, 1.7ms inference, 1.0ms postprocess per image at shape (1, 3, 640, 640)
[pid: 464656|app: 0|req: 11/11] 127.0.0.1 () {46 vars in 736 bytes} [Mon Jul 24 16:44:55 2023] POST /vision/detect_traffic_light_color => generated 69 bytes in 19 msecs (HTTP/1.1 200) 2 headers in 71 bytes (1 switches on core 0)

0: 640x640 2 persons, 1 bottle, 1 cake, 1 dining table, 1 laptop, 1.6ms
Speed: 2.7ms preprocess, 1.6ms inference, 1.0ms postprocess per image at shape (1, 3, 640, 640)
[pid: 464656|app: 0|req: 12/12] 127.0.0.1 () {46 vars in 736 bytes} [Mon Jul 24 16:45:28 2023] POST /vision/detect_traffic_light_color => generated 62 bytes in 18 msecs (HTTP/1.1 200) 2 headers in 71 bytes (1 switches on core 0)
